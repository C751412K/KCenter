(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1022:function(e,t,r){},1023:function(e,t,r){(function(e){ace.define("ace/mode/sql_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,r){"use strict";var n=e("../lib/oop"),a=e("./text_highlight_rules").TextHighlightRules,o=function(){var e="select|insert|update|delete|from|where|and|or|group|by|order|limit|offset|having|as|case|when|then|else|end|type|left|right|join|on|outer|desc|asc|union|create|table|primary|key|if|foreign|not|references|default|null|inner|cross|natural|database|drop|grant",t="true|false",r="avg|count|first|last|max|min|sum|ucase|lcase|mid|len|round|rank|now|format|coalesce|ifnull|isnull|nvl",n="int|numeric|decimal|date|varchar|char|bigint|float|double|bit|binary|text|set|timestamp|money|real|number|integer",a=this.createKeywordMapper({"support.function":r,keyword:e,"constant.language":"true|false","storage.type":n},"identifier",!0);this.$rules={start:[{token:"comment",regex:"--.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:a,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\/|\\/\\/|%|<@>|@>|<@|&|\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"}]},this.normalizeRules()};n.inherits(o,a),t.SqlHighlightRules=o})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,r){"use strict";var n=e("../../lib/oop"),a=e("../../range").Range,o=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(s,o),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,r){var n=e.getLine(r);if(this.singleLineBlockCommentRe.test(n)&&!this.startRegionRe.test(n)&&!this.tripleStarBlockCommentRe.test(n))return"";var a=this._getFoldWidgetBase(e,t,r);return!a&&this.startRegionRe.test(n)?"start":a},this.getFoldWidgetRange=function(e,t,r,n){var a=e.getLine(r),o,o;if(this.startRegionRe.test(a))return this.getCommentRegionBlock(e,a,r);if(o=a.match(this.foldingStartMarker)){var s=o.index;if(o[1])return this.openingBracketBlock(e,o[1],r,s);var i=e.getCommentFoldRange(r,s+o[0].length,1);return i&&!i.isMultiLine()&&(n?i=this.getSectionRange(e,r):"all"!=t&&(i=null)),i}if("markbegin"!==t&&(o=a.match(this.foldingStopMarker))){var s=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],r,s):e.getCommentFoldRange(r,s,-1)}},this.getSectionRange=function(e,t){for(var r=e.getLine(t),n=r.search(/\S/),o=t,s=r.length,i=t+=1,c=e.getLength();++t<c;){var l=(r=e.getLine(t)).search(/\S/);if(-1!==l){if(n>l)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(n==l)break}i=t}}return new a(o,s,i,e.getLine(i).length)},this.getCommentRegionBlock=function(e,t,r){for(var n=t.search(/\s*$/),o=e.getLength(),s=r,i=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,c=1;++r<o;){t=e.getLine(r);var l=i.exec(t);if(l&&(l[1]?c--:c++,!c))break}var u=r;if(r>s)return new a(s,n,r,t.length)}}.call(s.prototype)})),ace.define("ace/mode/folding/sql",["require","exports","module","ace/lib/oop","ace/mode/folding/cstyle"],(function(e,t,r){"use strict";var n=e("../../lib/oop"),a=e("./cstyle").FoldMode,o=t.FoldMode=function(){};n.inherits(o,a),function(){}.call(o.prototype)})),ace.define("ace/mode/sql",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/sql_highlight_rules","ace/mode/folding/sql"],(function(e,t,r){"use strict";var n=e("../lib/oop"),a=e("./text").Mode,o=e("./sql_highlight_rules").SqlHighlightRules,s=e("./folding/sql").FoldMode,i=function(){this.HighlightRules=o,this.foldingRules=new s,this.$behaviour=this.$defaultBehaviour};n.inherits(i,a),function(){this.lineCommentStart="--",this.blockComment={start:"/*",end:"*/"},this.$id="ace/mode/sql",this.snippetFileId="ace/snippets/sql"}.call(i.prototype),t.Mode=i})),ace.require(["ace/mode/sql"],(function(t){e&&(e.exports=t)}))}).call(this,r(163)(e))},1024:function(e,t,r){(function(e){ace.define("ace/theme/xcode",["require","exports","module","ace/lib/dom"],(function(e,t,r){var n;t.isDark=!1,t.cssClass="ace-xcode",t.cssText=".ace-xcode .ace_gutter {background: #e8e8e8;color: #333}.ace-xcode .ace_print-margin {width: 1px;background: #e8e8e8}.ace-xcode {background-color: #FFFFFF;color: #000000}.ace-xcode .ace_cursor {color: #000000}.ace-xcode .ace_marker-layer .ace_selection {background: #B5D5FF}.ace-xcode.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #FFFFFF;}.ace-xcode .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-xcode .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #BFBFBF}.ace-xcode .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.071)}.ace-xcode .ace_gutter-active-line {background-color: rgba(0, 0, 0, 0.071)}.ace-xcode .ace_marker-layer .ace_selected-word {border: 1px solid #B5D5FF}.ace-xcode .ace_constant.ace_language,.ace-xcode .ace_keyword,.ace-xcode .ace_meta,.ace-xcode .ace_variable.ace_language {color: #C800A4}.ace-xcode .ace_invisible {color: #BFBFBF}.ace-xcode .ace_constant.ace_character,.ace-xcode .ace_constant.ace_other {color: #275A5E}.ace-xcode .ace_constant.ace_numeric {color: #3A00DC}.ace-xcode .ace_entity.ace_other.ace_attribute-name,.ace-xcode .ace_support.ace_constant,.ace-xcode .ace_support.ace_function {color: #450084}.ace-xcode .ace_fold {background-color: #C800A4;border-color: #000000}.ace-xcode .ace_entity.ace_name.ace_tag,.ace-xcode .ace_support.ace_class,.ace-xcode .ace_support.ace_type {color: #790EAD}.ace-xcode .ace_storage {color: #C900A4}.ace-xcode .ace_string {color: #DF0002}.ace-xcode .ace_comment {color: #008E00}.ace-xcode .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==) right repeat-y}",e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.require(["ace/theme/xcode"],(function(t){e&&(e.exports=t)}))}).call(this,r(163)(e))},1025:function(e,t,r){"use strict";var n=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&(r[n[a]]=e[n[a]]);return r},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},c=i(r(0)),l=i(r(1));function u(e,t,r){var n=r[e+"Style"]||"",a=t&&t[e]||"";return n?n+";"+a:a}function p(e,t,r){var n=u(e,t,r);return n?' style="'+n+'"':""}var d={'"':"&quot;","'":"&apos;","&":"&amp;",">":"&gt;","<":"&lt"};function m(e){return e?e.replace(/<|>|&|"|'/g,(function(e){return d[e]})):e}var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props,t=e.json,r=e.data,n=e.replacer,a=e.space,i=e.themeClassName,c=e.theme,u=e.onJSONPrettyError,d=e.onError,f=e.silent,h=e.mainStyle,g=e.keyStyle,y=e.valueStyle,_=e.stringStyle,b=e.booleanStyle,S=e.errorStyle,v=s(e,["json","data","replacer","space","themeClassName","theme","onJSONPrettyError","onError","silent","mainStyle","keyStyle","valueStyle","stringStyle","booleanStyle","errorStyle"]),w={mainStyle:h,keyStyle:g,valueStyle:y,stringStyle:_,booleanStyle:b,errorStyle:S},x=r||t;if("string"==typeof x)try{x=JSON.parse(x)}catch(e){return f||console.warn("[react-json-pretty]: "+e.message),u&&u(e),!u&&d&&(d(e),console.warn("JSONPretty#onError is deprecated, please use JSONPretty#onJSONPrettyError instead")),l.createElement("div",o({},v,{dangerouslySetInnerHTML:{__html:'<pre class="__json-pretty-error__"'+p("error",c,w)+">"+m(x)+"</pre>"}}))}return l.createElement("div",o({},v,{dangerouslySetInnerHTML:{__html:'<pre class="'+i+'"'+p("main",c,w)+">"+this._pretty(c,x,n,+a,w)+"</pre>"}}))},t.prototype._pretty=function(e,t,r,n,a){var o=/^( *)("[^"]+": )?("[^"]*"|[\w.+-]*)?([,[{]|\[\s*\],?|\{\s*\},?)?$/gm,s=JSON.stringify(t,"function"==typeof r?r:null,isNaN(n)?2:n);return s?s.replace(/&/g,"&amp;").replace(/\\"([^,])/g,"\\&quot;$1").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(o,this._replace.bind(null,e,a)):s},t.prototype._replace=function(e,t,r,n,a,o,s){var i="</span>",c='<span class="__json-key__"'+p("key",e,t)+">",l='<span class="__json-value__"'+p("value",e,t)+">",u='<span class="__json-string__"'+p("string",e,t)+">",d='<span class="__json-boolean__"'+p("boolean",e,t)+">",m=n||"";return a&&(m=m+'"'+c+a.replace(/^"|":\s$/g,"")+i+'": '),o&&(m="true"===o||"false"===o?m+d+o+i:m+('"'===o[0]?u:l)+o+i),m+(s||"")},t.propTypes={data:c.any,json:c.any,replacer:c.func,silent:c.bool,space:c.oneOfType([c.number,c.string]),theme:c.object,themeClassName:c.string,onJSONPrettyError:c.func},t.defaultProps={data:"",json:"",silent:!0,space:2,themeClassName:"__json-pretty__"},t}(l.Component);e.exports=f},1029:function(e,t,r){"use strict";r.r(t);var n=r(1022),a=r(2),o=r.n(a),s=r(5),i=r.n(s),c=r(4),l=r.n(c),u=r(6),p=r.n(u),d=r(1),m=r.n(d),f=r(0),h=r.n(f),g=r(7),y=r.n(g),_=r(19),b=r(9),S=r(3),v,w,x=(w=v=function(e){function t(){return i()(this,t),l()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.render=function e(){var r,n=this.props,a=n.prefix,s=n.className,i=n.dashed,c=n.direction,l=n.orientation,u=n.children,p=S.j.pickOthers(t.propTypes,this.props),d=y()(((r={})[a+"divider"]=!0,r[a+"divider-dashed"]=!!i,r[a+"divider-"+c]=!!c,r[a+"divider-with-text-"+l]=!!l&&u,r),s);return m.a.createElement("div",o()({role:"separator",className:d},p),u&&m.a.createElement("span",{className:a+"divider-inner-text"},u))},t}(d.Component),v.propTypes={prefix:h.a.string,children:h.a.any,className:h.a.string,dashed:h.a.bool,direction:h.a.oneOf(["hoz","ver"]),orientation:h.a.oneOf(["left","right","center"])},v.defaultProps={prefix:"next-",direction:"hoz",orientation:"center",dashed:!1},w);x.displayName="Divider";var k=b.a.config(Object(_.polyfill)(x)),E=r(435),P=r(164),q=r(54),A=r(22),O=r(36),C=r(11),R=r(74),j=r(20),F=r(66),M=r(16),N=r(99),B=r(33),L=r(56),$=r.n(L),T=r(315),J=r.n(T),V=r(1023),z=r(1024),W=r(30),D=r(1025),I=r.n(D),H=r(436),U;function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function G(e){return X(e)||Y(e)||K(e)||Z()}function Z(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function K(e,t){if(e){if("string"==typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(e,t):void 0}}function Y(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function X(e){if(Array.isArray(e))return ee(e)}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ne(e,t,r){return t&&re(e.prototype,t),r&&re(e,r),e}function ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}function oe(e,t){return(oe=Object.setPrototypeOf||function e(t,r){return t.__proto__=r,t})(e,t)}function se(e){var t=le();return function r(){var n=ue(e),a;if(t){var o=ue(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return ie(this,a)}}function ie(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ce(e)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var de=B.a.Row,me=B.a.Col,fe=Object(W.withRouter)(U=function(e){ae(r,e);var t=se(r);function r(){var e;te(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return pe(ce(e=t.call.apply(t,[this].concat(a))),"state",{id:"".concat(e.props.match.params.clusterName,"|").concat(e.props.match.params.ksqlServerId),consoleValue:"",runStatus:!0,stopStatus:!0,queryPropertiesStatus:!1,queryProperties:new Map,queryPropertiesShow:[],queryPropertiesShowMap:new Map,results:[],schema:[],jsonView:null,mounted:!0}),pe(ce(e),"ws",new WebSocket(window.location.host.indexOf("3333")>0?"ws://127.0.0.1:8080/ksql_console":"http:"===window.location.protocol?"ws://".concat(window.location.host,"/ksql_console"):"wss://".concat(window.location.host,"/ksql_console"))),pe(ce(e),"customAceEditorCompleter",{getCompletions:function e(t,r,n,a,o){var s;o(null,[].concat(G(["create","create stream","create stream as select","create table","create table as select","drop stream","drop table","as","select","left","full","inner","join","window","windowstart","where","rowkey","group","by","having","and","emit","changes","type","stream","with","drop","table","show","types","insert","into","values","describe","extended","function","explain","if","exists","delete","topic","print","from","beginning","interval","limit","rowtime","set","cast","kafka_topic","case","when","then","else","end","like","between","list","functions","topics","streams","tables","queries","properties","spool","terminate","struct","abs","arraycontains","as_array","as_map","ceil","concat","unix_date","unix_timestamp","datetostring","elt","entries","extractjsonfield","exp","field","floor","generate_series","generate_series","geo_distance","ifnull","initcap","lcase","len","ln","mask","mask_keep_left","mask_keep_right","mask_left","mask_right","random","replace","round","sign","sqrt","slice","split","stringtodate","stringtotimestamp","substring","timestamptostring","trim","ucase","url_decode_param","url_encode_param","url_extract_fragment","url_extract_host","url_extract_parameter","url_extract_path","url_extract_port","url_extract_protocol","url_extract_query","collect_list","collect_set","count","histogram","average","max","min","sum","topk","topkdistinct","windowstart","windowend","explode","value_format","partition","partitions","replicas","value_delimiter","key","timestamp","timestamp_format","wrap_single_value","window_type","window_size","kafka_ceter is best."].map((function(e){return{caption:e,value:e,meta:"static"}}))),G(r.$mode.$highlightRules.$keywordList.map((function(e){return{caption:e,value:e,meta:"keyword"}})))))}}),pe(ce(e),"onChange",(function(t){e.setState({consoleValue:t})})),pe(ce(e),"onRun",(function(){var t=e.state.consoleValue;if(null==t||0===t.trim().length)M.a.error("can not be empty!");else{e.setState({results:[],jsonView:null});var r="ksql",n;t.toLowerCase().startsWith("select")&&(r="query");var a=e.state.queryProperties,o={};a.forEach((function(e){null!=e.n&&e.n.trim().length>0&&null!=e.v&&e.v.trim().length>0&&(o[e.n]=e.v)})),t.endsWith(";")||(t+=";");var s={id:e.state.id,message:JSON.stringify({ksql:t,streamsProperties:o}),operate:"run",type:r};e.ws.send(JSON.stringify(s)),e.setState({runStatus:!0,stopStatus:!1})}})),pe(ce(e),"onStop",(function(){var t={id:e.state.id,message:"",operate:"stop"};e.ws.send(JSON.stringify(t)),e.setState({runStatus:!1,stopStatus:!0})})),pe(ce(e),"onAddQueryProperties",(function(){if(0===e.state.queryPropertiesShow.length){var t=m.a.createElement("div",{key:0},m.a.createElement(de,null,"\xa0"),m.a.createElement(de,null,m.a.createElement(me,null," ",m.a.createElement(j.a,{defaultValue:"auto.offset.reset",onChange:e.onPropertiesChange,name:"0n"}),"\xa0=\xa0",m.a.createElement(j.a,{defaultValue:"latest",onChange:e.onPropertiesChange,name:"0v"}),"\xa0\xa0 ",m.a.createElement(A.a,{primary:"true",text:!0,onClick:function t(){return e.onRemoveProperties(0)}},m.a.createElement(C.a,{type:"ashbin"})," ")))),r=new Map;r.set(0,t);var n=e.state.queryProperties;n.set("0",{n:"auto.offset.reset",v:"latest"}),e.setState({queryPropertiesStatus:!e.state.queryPropertiesStatus,queryPropertiesShow:[t],queryPropertiesShowMap:r,queryProperties:n})}else e.setState({queryPropertiesStatus:!e.state.queryPropertiesStatus})})),pe(ce(e),"onRemoveProperties",(function(t){t=t?Number(t.index):0;var r=e.state.queryPropertiesShowMap,n=e.state.queryProperties;n.delete("".concat(t)),r.delete(t);var a=[];r.forEach((function(e){a.push(e)})),0===r.size&&e.setState({queryPropertiesStatus:!e.state.queryPropertiesStatus}),e.setState({queryPropertiesShow:a,queryPropertiesShowMap:r,queryProperties:n})})),pe(ce(e),"onPropertiesChange",(function(t,r){var n=r.currentTarget.name,a=n.substring(0,1),o=n.substring(1,2),s=e.state.queryProperties,i=s.get(a)?s.get(a):{};i[o]=t,s.set(a,i),e.setState({queryProperties:s})})),pe(ce(e),"onAddAnotherProperties",(function(){var t=e.state.queryPropertiesShow.length,r=m.a.createElement("div",{key:t},m.a.createElement(de,null,"\xa0"),m.a.createElement(de,null,m.a.createElement(me,null," ",m.a.createElement(j.a,{onChange:e.onPropertiesChange,name:"".concat(t,"n")}),"\xa0=\xa0",m.a.createElement(j.a,{onChange:e.onPropertiesChange,name:"".concat(t,"v")}),"\xa0\xa0 ",m.a.createElement(A.a,{primary:"true",text:!0,onClick:function r(){return e.onRemoveProperties({index:t})}},m.a.createElement(C.a,{type:"ashbin"})," ")))),n=e.state.queryPropertiesShowMap;n.set(t,r),e.setState({queryPropertiesShow:[].concat(G(e.state.queryPropertiesShow),[r]),queryPropertiesShowMap:n})})),e}return ne(r,[{key:"componentDidMount",value:function e(){var t=this;this.ws.onopen=function(){t.setState({runStatus:!1,stopStatus:!0})},this.ws.onclose=function(){t.state.mounted&&t.setState({runStatus:!0,stopStatus:!0})},this.ws.onmessage=function(e){if(t.state.mounted)try{var r=t.state.consoleValue.toLowerCase(),n=JSON.parse(e.data);if(r.startsWith("select")||n.errorMessage)if(0===t.state.schema.length){for(var a,o=n.header.schema.split(","),s=[],i=0;i<o.length;i+=1){var c=o[i].substring(o[i].indexOf("`")+1,o[i].lastIndexOf("`"));s=[].concat(G(s),[c])}t.setState({schema:s})}else try{for(var l=n.row.columns,u=t.state.schema,p={},d=0;d<u.length;d+=1)p[u[d]]=l[d];var f=[p].concat(G(t.state.results));t.setState({results:f})}catch(r){var h=m.a.createElement(I.a,{id:"json-pretty",data:e.data,keyStyle:"color:#008080;font-size:1.5em",valueStyle:"color:#0f1e78;font-size:1.5em"});t.setState({jsonView:h}),console.warn(r)}else{var g=m.a.createElement(I.a,{id:"json-pretty",data:e.data,keyStyle:"color:#008080;font-size:1.5em",valueStyle:"color:#0f1e78;font-size:1.5em"});t.setState({jsonView:g,runStatus:!1,stopStatus:!0})}}catch(r){var y=m.a.createElement(I.a,{id:"json-pretty",data:e.data,keyStyle:"color:#008080;font-size:1.5em",valueStyle:"color:#0f1e78;font-size:1.5em"});t.setState({jsonView:y,runStatus:!1,stopStatus:!0}),t.onStop(),console.error(r)}}}},{key:"componentWillUnmount",value:function e(){var t={id:this.state.id,message:"",operate:"stop"};this.setState({mounted:!1}),this.ws.send(JSON.stringify(t))}},{key:"render",value:function e(){var t=this.state,r=t.results,n=t.jsonView,a=m.a.createElement("div",{style:he.messageStyle},m.a.createElement("h1",null,"No new messages"),"The message browser shows messages that have arrived since this page was opened.");return m.a.createElement($.a,null,m.a.createElement(P.a,{className:"free-card custom",free:!0},m.a.createElement("div",{className:"free-card-main"},m.a.createElement(P.a.Content,null,m.a.createElement(de,null,m.a.createElement(me,{span:"24"},m.a.createElement(J.a,{placeholder:"Example: SELECT field1, field2, field3 FROM mystream WHERE field1 = \u2018somevalue\u2019 EMIT CHANGES;",mode:"sql",height:"100px",value:this.state.consoleValue,width:"100%",theme:"xcode",name:"blah2",onChange:this.onChange,fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,setOptions:{enableBasicAutocompletion:[this.customAceEditorCompleter],enableLiveAutocompletion:!0,showLineNumbers:!1,tabSize:2}})))),m.a.createElement(P.a.Actions,null,m.a.createElement(k,{dashed:!0}),m.a.createElement(de,null,m.a.createElement(me,{span:"12"},m.a.createElement(de,null,m.a.createElement(A.a,{text:!0,onClick:this.onAddQueryProperties,style:{display:"block",color:"blue",textAlign:"left",textDecoration:"underline"}},"Add query properties")),m.a.createElement("div",{style:{display:this.state.queryPropertiesStatus?"":"none"}},this.state.queryPropertiesShow.map((function(e){return e})),m.a.createElement(de,null,"\xa0"),m.a.createElement(de,null,m.a.createElement(A.a,{text:!0,onClick:this.onAddAnotherProperties,style:{display:"block",color:"blue",textAlign:"left",textDecoration:"underline"}},"Add another field")))),m.a.createElement(me,{span:"12"},m.a.createElement("span",{style:{display:this.state.runStatus?"":"none"}},"Running...\xa0\xa0"),m.a.createElement("span",null,m.a.createElement(A.a,{type:"primary",disabled:this.state.runStatus,onClick:this.onRun},"\xa0\xa0 Run\xa0\xa0")," \xa0\xa0",m.a.createElement(A.a,{type:"secondary",disabled:this.state.stopStatus,onClick:this.onStop},"\xa0\xa0Stop\xa0\xa0"))))))),m.a.createElement(P.a,{style:he.resultStyle,className:"free-card custom",free:!0},m.a.createElement("div",{className:"free-card-main"},m.a.createElement(P.a.Content,null,n||r.length>0?null:a,r.map((function(e){return m.a.createElement("p",{key:e.ROWTIME},JSON.stringify(e))})),n))))}}]),r}(d.Component))||U,he={resultStyle:{marginTop:"50px",minHeight:"200px"},messageStyle:{textAlign:"center"}},ge=t.default=fe}}]);